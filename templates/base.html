<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Noofolio â€“ Your Work, Not Your Role{% endblock %}</title>
    <link rel="icon" type="image/png" href="/static/assets/icon_white.png">
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    {% block extra_head %}{% endblock %}
</head>
<body>
    {% block navbar %}
    <nav class="navbar">
        <div class="nav-container">
            <a href="/" class="nav-brand">ğŸ§  Noofolio</a>
            <div class="nav-links">
                <a href="/">ğŸ  Home</a>
                <a href="/onboarding">âœ¨ Crea</a>
                <a href="/explore">ğŸ“ Esplora</a>
                <a href="/dashboard/marco_rossi">ğŸ“‹ Il mio Noofolio</a>
                <div class="user-dropdown" style="position: relative;">
                    <button class="user-button" onclick="toggleUserMenu()" style="background: var(--bg-card); border: 1px solid var(--border); padding: 0.5rem 1rem; border-radius: 8px; color: var(--text); cursor: pointer; display: flex; align-items: center; gap: 0.5rem;">
                        ğŸ‘¤ Marco Rossi
                        <span style="font-size: 0.7rem;">â–¼</span>
                    </button>
                    <div id="user-menu" class="user-menu" style="display: none; position: absolute; right: 0; top: 100%; margin-top: 0.5rem; background: var(--bg-card); border: 1px solid var(--border); border-radius: 8px; min-width: 200px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 1000;">
                        <a href="/dashboard/marco_rossi" style="display: block; padding: 0.75rem 1rem; color: var(--text); text-decoration: none; border-bottom: 1px solid var(--border);">ğŸ“‹ Il mio Noofolio</a>
                        <a href="/select-profile" style="display: block; padding: 0.75rem 1rem; color: var(--text); text-decoration: none;">ğŸ”„ Cambia utente</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    {% endblock %}

    <main class="main-content">
        {% block content %}{% endblock %}
    </main>

    {% block footer %}
    <footer class="footer">
        <p>Generated by <strong>Noofolio</strong> â€“ Your work, not your role.</p>
        <p class="footer-sub">From the noosphere: decisions, judgment, and proof.</p>
    </footer>
    {% endblock %}

    {% block extra_scripts %}{% endblock %}

    <script>
    function toggleUserMenu() {
        const menu = document.getElementById('user-menu');
        menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', function(event) {
        const dropdown = document.querySelector('.user-dropdown');
        if (dropdown && !dropdown.contains(event.target)) {
            document.getElementById('user-menu').style.display = 'none';
        }
    });
    </script>
</body>
</html>